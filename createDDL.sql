CREATE TABLE patient_condition (id BIGINT AUTO_INCREMENT NOT NULL, description VARCHAR(255), diagnosis_id VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE diagnoses (diagnosis_code VARCHAR(255) NOT NULL, long_description VARCHAR(2048), short_description VARCHAR(255), PRIMARY KEY (diagnosis_code))
CREATE TABLE campaigns (id BIGINT AUTO_INCREMENT NOT NULL, amount_donated DECIMAL(38), patient_condition VARCHAR(255), cover_image_url VARCHAR(255), created_by VARCHAR(255), created_date DATETIME, description VARCHAR(255), diagnosis VARCHAR(255), email_address VARCHAR(255), no_of_donors INTEGER, patient_name VARCHAR(255), status VARCHAR(255), target DECIMAL(38), title VARCHAR(255), total_endorsed INTEGER, total_following INTEGER, updated_date DATETIME, updated_by VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE media (id BIGINT AUTO_INCREMENT NOT NULL, filename VARCHAR(255), mimetype VARCHAR(255), path VARCHAR(255), campaign_id BIGINT, PRIMARY KEY (id))
CREATE TABLE campaign_donations (ID INTEGER AUTO_INCREMENT NOT NULL, amount DECIMAL(38), payment_date DATETIME, payment_type INTEGER, campaign_id BIGINT, user_id BIGINT, PRIMARY KEY (ID))
CREATE TABLE users (id BIGINT AUTO_INCREMENT NOT NULL, email VARCHAR(255), enabled TINYINT(1) default 0, first_name VARCHAR(255), last_name VARCHAR(255), password VARCHAR(255), password_status VARCHAR(255), phone VARCHAR(255), username VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE fidell (id BIGINT AUTO_INCREMENT NOT NULL, balance DOUBLE, creditAmount DOUBLE, date DATETIME, debitAmount DOUBLE, description VARCHAR(255), value_date DATETIME, PRIMARY KEY (id))
CREATE TABLE comments (ID INTEGER AUTO_INCREMENT NOT NULL, comment_type INTEGER, date_contented DATETIME, text VARCHAR(255), campaign_id BIGINT, user_id BIGINT, PRIMARY KEY (ID))
CREATE TABLE security_groups (ID BIGINT AUTO_INCREMENT NOT NULL, description VARCHAR(255), group_name VARCHAR(255), sys_group TINYINT(1) default 0, role INTEGER, PRIMARY KEY (ID))
CREATE TABLE security_roles (ID INTEGER AUTO_INCREMENT NOT NULL, DESCRIPTION VARCHAR(255), ROLENAME VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE security_logon_audit (id BIGINT AUTO_INCREMENT NOT NULL, ip_address VARCHAR(255), time_stamp DATETIME, username VARCHAR(255), PRIMARY KEY (id))
CREATE TABLE security_user_group_association (ID INTEGER AUTO_INCREMENT NOT NULL, group_id BIGINT, user_id BIGINT, PRIMARY KEY (ID))
CREATE TABLE campaign_endorses (campaign_id BIGINT NOT NULL, doctor_id BIGINT NOT NULL, PRIMARY KEY (campaign_id, doctor_id))
CREATE TABLE campaign_followers (campaign_id BIGINT NOT NULL, follower_id BIGINT NOT NULL, PRIMARY KEY (campaign_id, follower_id))
ALTER TABLE diagnoses ADD CONSTRAINT UNQ_diagnoses_0 UNIQUE (diagnosis_code)
ALTER TABLE patient_condition ADD CONSTRAINT FK_patient_condition_diagnosis_id FOREIGN KEY (diagnosis_id) REFERENCES diagnoses (diagnosis_code)
ALTER TABLE media ADD CONSTRAINT FK_media_campaign_id FOREIGN KEY (campaign_id) REFERENCES campaigns (id)
ALTER TABLE campaign_donations ADD CONSTRAINT FK_campaign_donations_campaign_id FOREIGN KEY (campaign_id) REFERENCES campaigns (id)
ALTER TABLE campaign_donations ADD CONSTRAINT FK_campaign_donations_user_id FOREIGN KEY (user_id) REFERENCES users (id)
ALTER TABLE comments ADD CONSTRAINT FK_comments_user_id FOREIGN KEY (user_id) REFERENCES users (id)
ALTER TABLE comments ADD CONSTRAINT FK_comments_campaign_id FOREIGN KEY (campaign_id) REFERENCES campaigns (id)
ALTER TABLE security_groups ADD CONSTRAINT FK_security_groups_role FOREIGN KEY (role) REFERENCES security_roles (ID)
ALTER TABLE security_user_group_association ADD CONSTRAINT FK_security_user_group_association_group_id FOREIGN KEY (group_id) REFERENCES security_groups (ID)
ALTER TABLE security_user_group_association ADD CONSTRAINT FK_security_user_group_association_user_id FOREIGN KEY (user_id) REFERENCES users (id)
ALTER TABLE campaign_endorses ADD CONSTRAINT FK_campaign_endorses_doctor_id FOREIGN KEY (doctor_id) REFERENCES users (id)
ALTER TABLE campaign_endorses ADD CONSTRAINT FK_campaign_endorses_campaign_id FOREIGN KEY (campaign_id) REFERENCES campaigns (id)
ALTER TABLE campaign_followers ADD CONSTRAINT FK_campaign_followers_campaign_id FOREIGN KEY (campaign_id) REFERENCES campaigns (id)
ALTER TABLE campaign_followers ADD CONSTRAINT FK_campaign_followers_follower_id FOREIGN KEY (follower_id) REFERENCES users (id)
